<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Key Regional Personnel | Dezan Shira & Associates</title>
  <meta name="description"
    content="Stakeholders are increasingly scrutinizing environmental, social and governance (ESG) performance—and looking for companies to rise to the challenge of delivering ESG improvements." />
  <meta property="og:title" content="Services | Sustainability & ESG Compliance" />
  <meta property="og:description"
    content="Stakeholders are increasingly scrutinizing environmental, social and governance (ESG) performance—and looking for companies to rise to the challenge of delivering ESG improvements." />
  <link rel="stylesheet" href="../css/main.min.css" type="text/css" />
  <link rel="stylesheet" href="../css/vendor/splide.min.css" type="text/css">
  <link rel="stylesheet" href="../css/iit-calculator.min.css" type="text/css">
  <link rel="stylesheet" href="../css/tools.min.css" type="text/css">
  <link rel="preload" as="image" href="/img/asiapedia-hero.jpg" type="image/webp" fetchpriority="high">

<style>
    #calculator-talent .result-block{min-height:auto !important;}
</style>

</head>

<body>
  <main class="home country-section" id="wrapper">
    @@include("../includes/header.html")
      <section class="masthead cnt-min-h">
        <div class="section-wrapper-min">
          <div class="masthead__text justify-content-center">
            <div class="text-head">
            <h1 class="mb-1">One of Asia’s Leading Sources of Investor Business Intelligence</h1>
            <p class="mb-2">We help businesses harness the top AI-powered solutions in cloud accounting, ERP, and automation to boost the performance of their operations in Asia.</p>
            <a href="#" class="btn btn-outline-white mr-1-5">Member Login</a> <a href="#" class="btn btn-outline-white">Create Member Account</a> 
          </div>
            
      
        </div>
        </div>
        <div class="masthead__bg"><img alt="Industries" src="/img/asiapedia-hero.jpg" width="1440" height="644"></div>
      </section>
<section class="mt-5 mb-5">

        <div class="section-wrapper-small">


            
           




<script>
    var allCalculatorData={};
</script>


<div class="steps">


    <div id="step1" class="cal_step">


<style>
    .field-block .field-block-field .field {
        width: 100%;
    }
</style>

<h2 class="text-center mb-3">
    GBA IIT subsidy calculator for talents</h2>
<form id="calculator-talent" name="entry_contacts" method="post" action="/contact">
    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">Your identity</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field required">
                    <select id="identity" name="identity">
                        <option value="" selected="selected">Select identity</option>
                        <option value="Foreign nationals" data-high="90" data-lacking="90">Foreign nationals</option>
                        <option value="Permanent residents of Hong Kong and Macau" data-high="90" data-lacking="90">Permanent residents of Hong Kong and Macau</option>
                        <option value="Residents in Taiwan" data-high="90" data-lacking="90">Residents in Taiwan</option>
                        <option value="Hong Kong resident under the Hong Kong’s Entry Schemes for Talents, Professionals and Entrepreneurs" data-high="90" data-lacking="90">Hong Kong resident under the Hong Kong’s Entry Schemes for Talents, Professionals and Entrepreneurs</option>
                        <option value="Overseas Chinese &amp; Returning overseas students who have obtained long-term residence abroad" data-high="90" data-lacking="90">Overseas Chinese &amp; Returning overseas students who have obtained long-term residence abroad</option>
                        <option value="Mainland residents who have settled down in Hong Kong or Macao and had cancelled their mainland hukou/household registration;" data-high="60" data-lacking="60">Mainland residents who have settled down in Hong Kong or Macao and had cancelled their mainland hukou/household registration;</option>
                        <option value="Others" data-high="50" data-lacking="50">Others, please describe at the end of this form</option>
                    </select>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>
    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">City where you work</div>
            <small>
                Note: must satisfy all three criteria:

                <ul style="padding-left:1.5rem;">
                    <li>Where your company is registered &amp; located, and</li>
                    <li>Where you physically stays, and</li>
                    <li>Where you pay income taxes</li>
                </ul>
            </small>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field required">
                    <select id="City_where_you_work" name="City_where_you_work">
                        <option value="" selected="selected">Select City</option>
                        <option value="Guangzhou" data-high="90" data-lacking="90">Guangzhou</option>
                        <option value="Shenzhen" data-high="90" data-lacking="90">Shenzhen</option>
                        <option value="Zhuhai" data-high="90" data-lacking="90">Zhuhai</option>
                        <option value="Foshan" data-high="90" data-lacking="90">Foshan</option>
                        <option value="Huizhou" data-high="90" data-lacking="90">Huizhou</option>
                        <option value="Dongguan" data-high="90" data-lacking="90">Dongguan</option>
                        <option value="Zhongshan" data-high="90" data-lacking="90">Zhongshan</option>
                        <option value="Jiangmen" data-high="90" data-lacking="90">Jiangmen</option>
                        <option value="Zhaoqing" data-high="90" data-lacking="90">Zhaoqing</option>
                        <option value="Other cities in China" data-high="0" data-lacking="0">Other cities in China</option>
                        <option value="Others" data-high="50" data-lacking="50">Others, please describe at the end of this form</option>
                    </select>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>
    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">How many days have you spent in city where you work.</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field required">
                    <select id="how_many_days" name="how_many_days" data-other="how_many_days">
                        <option value="" selected="selected">Select </option>
                        <option value="&lt; 90 days" data-high-sel-cities="90" data-lacking-sel-cities="50" data-high="0" data-lacking="0">
                            &lt; 90 days (≈3 months)</option>
                        <option value="90 days" data-high-sel-cities="90" data-lacking-sel-cities="90" data-high="90" data-lacking="90">90 days (≈3 months) to 183 days (≈6 months)</option>
                        <option value="&gt;183 days" data-high-sel-cities="90" data-lacking-sel-cities="90" data-high="90" data-lacking="90">&gt;183 days (≈6 months)</option>
                    </select>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>
    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">What type of Work Permit or Work related document do you have.</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field required">
                    <select id="what_type_of_Work" name="what_type_of_Work" data-other="what_type_of_Work">
                        <option value="" selected="selected">Select type of Work Permit</option>
                        <option value="Class A" data-high-sel-cities="90" data-high="90">Class A</option>
                        <option value="Class B" data-high-sel-cities="90" data-high="0">Class B</option>
                        <option value="Class c" data-high-sel-cities="0" data-high="0">Class c</option>
                        <option value="Confirmation Letter of High-end Foreign Talents" data-high-sel-cities="90" data-high="90">Confirmation Letter of High-end Foreign Talents</option>
                        <option value="Confirmation Letter of High-level Talents" data-high-sel-cities="90" data-high="90">Confirmation Letter of High-level Talents</option>
                        <option value="Guangdong Superior Talent Card" data-high-sel-cities="90" data-high="90">Guangdong Superior Talent Card</option>
                        <option value="Candidate of the state, provincial, or municipal major talent projects" data-high-sel-cities="90" data-high="90">Candidate of the state, provincial, or municipal major talent projects</option>
                        <option value="Other documents (e.g Guangzhou Talent Green Card,Foshan talents card A or B, Dongguan Talent Card)" data-high-sel-cities="50" data-high="50">Other documents (e.g Guangzhou Talent Green Card,Foshan talents card A or B, Dongguan Talent Card, please describe at the end of this form)</option>
                    </select>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>
    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">What type of company do you work for.</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field required">
                    <select id="what_type_of_company" name="what_type_of_company" data-other="what_type_of_company">
                        <option value="" selected="selected">Select type of company</option>
                        
                        <option value="Modern Service companies (Software development, information technology, financial services, legal services, e-commerce support, modern logistics, etc.)" data-lacking="60">Modern Service companies (Software development, information technology, financial services, legal services, e-commerce support, modern logistics, etc.)</option>
                        <option value="High-tech companies" data-lacking="60">High-tech companies</option>
                        <option value="Companies in encouraged industry (New energy/materials, digital creativity, Intelligent equipment/robot, Biomedicine, Blockchain, etc.)" data-lacking="90">Companies in encouraged industry (New energy/materials, digital creativity, Intelligent equipment/robot, Biomedicine, Blockchain, etc.)</option>
                        <option value="Colleges and universities, medical institutions, research institutions" data-lacking="90">Colleges and universities, medical institutions, research institutions</option>
                        <option value="None of the above, please specify (please leave down your company name or describe the main business at the end of the form, we can help you verify)" data-lacking="50">None of the above, please specify (please leave down your company name or describe the main business at the end of the form, we can help you verify)</option>
                        
                        <!-- <option value="Fortune 500 companies and their branches \ listed companies \ large-scale enterprises \Headquarters Enterprise" data-lacking=90>Fortune 500 companies and their branches \ listed companies \ large-scale enterprises \Headquarters Enterprise</option>
                        <option value="Research center in Innovation platform\Laboratory\Scientific institution\Higher education institution\Hosipital\public health institutions\High-tech enterprises" data-lacking=90>Research center in Innovation platform\Laboratory\Scientific institution\Higher education institution\Hosipital\public health institutions\High-tech enterprises</option>
                        <option value="Company in key development industries & key areas (e.g Top 100 Industrial Enterprises,Technology Advanced Service Enterprise…)" data-lacking=90>Company in key development industries & key areas (e.g Top 100 Industrial Enterprises,Technology Advanced Service Enterprise…)</option>
                        <option value="General enterprises" data-lacking=60>General enterprises</option>
                        <option value="Others" data-lacking=50>Others, please describe at the end of this form</option> -->
                    </select>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>
    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">
                Your position / job title <span>(note: written in labor contract)</span></div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field required">
                    <select id="your_position" name="your_position" data-other="your_position">
                        <option value="" selected="selected">Select Your position</option>
                        <option value="Core R&amp;D personnel  \ Technical backbone \ Researcher" data-lacking="90">Core R&amp;D personnel \ Technical backbone \ Researcher</option>
                        <option value="Senior Executive (Chairman, Vice-chairman, General Manager, Deputy General Manager, Chief Supervisor, Chief Economist, Chief Accountant, etc.)" data-lacking="90">Senior Executive (Chairman, Vice-chairman, General Manager, Deputy General Manager, Chief Supervisor, Chief Economist, Chief Accountant, etc.)</option>
                        <option value="Middle management team" data-lacking="60">Middle management team</option>
                        <option value="Specialist in finance, human resources, marketing, product design, production management,strategic planning, capital operation,product operation" data-lacking="60">Specialist in finance, human resources, marketing, product design, production management,strategic planning, capital operation,product operation</option>
                        <option value="General staff" data-lacking="50">General staff</option>
                        <option value="Others" data-lacking="50">Others, please describe at the end of this form</option>
                    </select>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>
    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">Do you have below professional qualifications?</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div>
                    <div class="form-check">
                        <input class="form-check-input" onclick="updateResult();" name="professional_qualifications" id="lawyer" type="checkbox" data-label="Law: Legal Professional Qualification Certificate">
                        <label class="form-check-label" for="lawyer">Law: Legal Professional Qualification Certificate</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" onclick="updateResult();" name="professional_qualifications" id="finance-accounting" type="checkbox" data-label="Finance &amp;Accounting: CFA, CPA, ACCA, FRM AFP, CIIA, Certified Metrologist, Tax Specialist">
                        <label class="form-check-label" for="finance-accounting">Finance &amp;Accounting: CFA, CPA, ACCA, FRM AFP, CIIA, Certified Metrologist, Tax Specialist</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" onclick="updateResult();" name="professional_qualifications" id="translation-interpretation" type="checkbox" data-label="Translation &amp; interpretation">
                        <label class="form-check-label" for="translation-interpretation">Translation &amp; interpretation</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" onclick="updateResult();" name="professional_qualifications" id="physician" type="checkbox" data-label="Physician">
                        <label class="form-check-label" for="physician">Physician</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" onclick="updateResult();" name="professional_qualifications" id="engineer-architect" type="checkbox" data-label="Engineer/Architect">
                        <label class="form-check-label" for="engineer-architect">Engineer/Architect</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" onclick="updateResult();" name="professional_qualifications" id="doctoral-postdoctoral" type="checkbox" data-label="Doctoral and postdoctoral">
                        <label class="form-check-label" for="doctoral-postdoctoral">Doctoral and postdoctoral</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" onclick="updateResult();" name="professional_qualifications" id="others" type="checkbox" data-label="Others">
                        <label class="form-check-label" for="others">Others, please describe at the end of this form</label>
                    </div>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>


    <div class="field-block">
        <div class="field-block-title">
            <div class="field-title">
                Describe your situation if not covered in the form above</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field required">
                    <textarea name="other_situation_description" id="other_situation_description" style="width:100%;" rows="10"></textarea>
                </div>
            </div>
            <!-- <div class="field-calculator">
                <div class="calculated-block">----- </div>
                <div class="calculated-block">----- </div>
            </div> -->
        </div>
    </div>

    <div class="result" id="result"></div>
</form>


<script>
    var id_high_end = 0;
    var id_lacking = 0;

    var city_high_end = 0;
    var city_lacking = 0;

    var days_high_end = 0;
    var days_lacking = 0;

    var work_permit_high_end = 0;

    var company_lacking = 0;

    var job_lacking = 0;

    var license = 0;


    // Identity
    var field_identity = document.getElementById("identity");
    field_identity.addEventListener('change', function(e) {
        calculateAll();
    });

    // City
    var field_City_where_you_work = document.getElementById("City_where_you_work");
    field_City_where_you_work.addEventListener('change', function(e) {
        calculateAll();
    });

    // Days
    var field_how_many_days = document.getElementById("how_many_days");
    field_how_many_days.addEventListener('change', function(e) {
        calculateAll();
    });

    // WORK PERMIT
    var field_what_type_of_Work = document.getElementById("what_type_of_Work");
    field_what_type_of_Work.addEventListener('change', function(e) {
        calculateAll();
    });

    // COMPANY
    var field_what_type_of_company = document.getElementById("what_type_of_company");
    field_what_type_of_company.addEventListener('change', function(e) {
        calculateAll();
    });

    // JOB
    var field_your_position = document.getElementById("your_position");
    field_your_position.addEventListener('change', function(e) {
        calculateAll();
    });


    function calculateAll() {

        var other_situation_description = document.getElementById("other_situation_description");
        allCalculatorData.other_situation_description = other_situation_description.value;

        // Identity
        var field_identity = document.getElementById("identity");
        var selOption = field_identity.options[field_identity.selectedIndex];
        id_high_end = selOption.getAttribute("data-high");
        id_lacking = selOption.getAttribute("data-lacking");
        allCalculatorData.field_identity = selOption.value;


        // City
        var field_City_where_you_work = document.getElementById("City_where_you_work");
        var selOption = field_City_where_you_work.options[field_City_where_you_work.selectedIndex];
        city_high_end = selOption.getAttribute("data-high");
        city_lacking = selOption.getAttribute("data-lacking");
        allCalculatorData.field_City_where_you_work = selOption.value;

        // Days
        var field_how_many_days = document.getElementById("how_many_days");
        var selOption = field_how_many_days.options[field_how_many_days.selectedIndex];
        var citySelected = document.getElementById("City_where_you_work").value;
        allCalculatorData.field_how_many_days = selOption.value;


        if (citySelected == 'Zhuhai' || citySelected == 'Foshan' || citySelected == 'Zhongshan') {
            days_high_end = selOption.getAttribute("data-high-sel-cities");
            days_lacking = selOption.getAttribute("data-lacking-sel-cities");

        } else {
            days_high_end = selOption.getAttribute("data-high");
            days_lacking = selOption.getAttribute("data-lacking");
        }


        // WORK PERMIT
        var field_what_type_of_Work = document.getElementById("what_type_of_Work");
        var selOption = field_what_type_of_Work.options[field_what_type_of_Work.selectedIndex];
        var citySelected = document.getElementById("City_where_you_work").value;
        allCalculatorData.field_what_type_of_Work = selOption.value;

        if (citySelected == 'Shenzhen' || citySelected == 'Foshan' || citySelected == 'Zhaoqing') {
            work_permit_high_end = selOption.getAttribute("data-high-sel-cities");
        } else {
            work_permit_high_end = selOption.getAttribute("data-high");
        }

        // COMPANY
        var field_what_type_of_company = document.getElementById("what_type_of_company");
        var selOption = field_what_type_of_company.options[field_what_type_of_company.selectedIndex];
        company_lacking = selOption.getAttribute("data-lacking");
        allCalculatorData.field_what_type_of_company = selOption.value;

        // JOB
        var field_your_position = document.getElementById("your_position");
        var selOption = field_your_position.options[field_your_position.selectedIndex];
        job_lacking = selOption.getAttribute("data-lacking");
        allCalculatorData.field_your_position = selOption.value;

        updateResult();
    }

    function updateResult() {

        // get professions
        var professions_selected = document.querySelectorAll("input[name='professional_qualifications']:checked");
        if (professions_selected) {
            var professional_qualification = [];
            for (i = 0; i < professions_selected.length; i++) {
                professional_qualification.push(professions_selected[i].getAttribute("data-label"));
                // console.log(professions_selected[i]);
            }
            allCalculatorData.professional_qualification = professional_qualification;
        }


        var highEndValues = [id_high_end, city_high_end, days_high_end, work_permit_high_end];
        var LackingValues = [id_lacking, city_lacking, days_lacking, company_lacking, job_lacking];

        var result = '';
        var highEndValuesInt = false;
        var LackingValuesInt = false;

        if (!highEndValues.includes(null)) {

            var highEndValuesInt = highEndValues.map(function(x) {
                return parseInt(x, 10);
            });
            highEndValuesInt.sort((a, b) => a - b);

            result += 'We estimate that you have:<br /> ' + highEndValuesInt[0] + '% possibility to get high end talents subsidy';

        }

        if (!LackingValues.includes(null)) {

            LackingValuesInt = LackingValues.map(function(x) {
                return parseInt(x, 10);
            });
            LackingValuesInt.sort((a, b) => a - b);
            result += ' and <br />' + LackingValuesInt[0] + '% possibility to get lacking talents subsidy.';

        }

        var verdict = '';
        if (highEndValuesInt && LackingValuesInt) {
            if (highEndValuesInt[0] >= 90 && LackingValuesInt[0] >= 90) {
                verdict = 'Congrats, you are very likely to be eligible for the GBA IIT subsidy. We could help with your subsidy application – <a href="/contact">click here to confirm your interest</a>. Also, you could move on to calculate how much subsidy you could get. <br /><a href="#" onClick="changeStep(1);" class="c-btn cta-link mt-2">Calculate subsidy</a>';
            } else if (highEndValuesInt[0] == 0 || LackingValuesInt[0] == 0) {
                verdict = 'Sorry, you are not eligible for applying for the GBA IIT subsidy this year.';
            } else if (highEndValuesInt[0] < 90 || LackingValuesInt[0] < 90) {
                verdict = 'More information will be needed to identify if you are eligible for the GBA IIT subsidy. We could help with your subsidy application –  <a href="/contact">click here to confirm your interest</a>. Also, you could move on to calculate how much subsidy you could get. <br /><a href="#" onClick="changeStep(1);" class="c-btn cta-link mt-2">Calculate subsidy</a>';
            }
        }

        if (result != "") {

            allCalculatorData.highEndValuesInt = highEndValuesInt;
            allCalculatorData.LackingValuesInt = LackingValuesInt;

            var resultDiv = document.getElementById("result");
            //resultDiv.innerHTML = '<strong>' + verdict + '</strong><hr style="border: 1px solid #fff;margin:1rem 0;" />' + result;
            resultDiv.innerHTML = '<a href="#" onClick="changeStep(1);" class="c-btn cta-link mt-2">Goto Step 2: Calculate subsidy</a>';

        }


    }
</script>    </div><!--/step1-->

    <div id="step2" class="cal_step d-none">
        <!-- <link rel="stylesheet" href="/assets_v2/css/mockups/calculator-for-talents.min.css" type="text/css"> -->

<style>
    #calculator-talent .result-block{min-height:auto !important;}
</style>


<h2 class="text-center mb-3">
    Please fill in your annual income by categories</h2>
<form id="calculator-talent" name="entry_contacts" method="post" action="/contact">
    <div class="field-block field-block-twocolumn">
        <div class="field-block-title">
            <div class="field-title">Annual Salary</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="annual_salary" type="text" name="annual_salary" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0">
        <div class="field-block-title">
            <div class="field-title">Annual Bonus</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="annual_bonus" type="text" name="annual_bonus" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        Tax free allowance ↓</div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">Housing subsidy</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_housing" type="text" name="tax_free_allowance_housing" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">Children's education expenses</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_education" type="text" name="tax_free_allowance_education" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">Language training fee</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_language" type="text" name="tax_free_allowance_language" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">
                Travel allowance</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_travel" type="text" name="tax_free_allowance_travel" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">
                Family visit fees</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_family" type="text" name="tax_free_allowance_family" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">
                Food allowance</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_food" type="text" name="tax_free_allowance_food" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn mb-0 inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">
                Relocation fee</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_relocation" type="text" name="tax_free_allowance_relocation" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="field-block field-block-twocolumn inside-twocolumn">
        <div class="field-block-title">
            <div class="field-title unbold">
                Laundry fee</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="tax_free_allowance_laundry" type="text" name="tax_free_allowance_laundry" value="">
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="field-block field-block-twocolumn">
        <div class="field-block-title">
            <div class="field-title">
                Total</div>
        </div>
        <div class="field-block-field">
            <div class="field">
                <div class="form-field">
                    <input class="form-control radius-none" id="total" type="text" name="total" value="">
                </div>
            </div>
        </div>
    </div> -->
    <div class="result">

        <div class="result-block" id="subsidy_calculations"></div>
        <div class="result-block" id="subsidy_estimate"></div>

    </div>
</form>


<script>
var annual_salary=document.getElementById("annual_salary");
var annual_bonus=document.getElementById("annual_bonus");
var tax_free_allowance_housing=document.getElementById("tax_free_allowance_housing");
var tax_free_allowance_education=document.getElementById("tax_free_allowance_education");
var tax_free_allowance_language=document.getElementById("tax_free_allowance_language");
var tax_free_allowance_travel=document.getElementById("tax_free_allowance_travel");
var tax_free_allowance_family=document.getElementById("tax_free_allowance_family");
var tax_free_allowance_food=document.getElementById("tax_free_allowance_food");
var tax_free_allowance_relocation=document.getElementById("tax_free_allowance_relocation");
var tax_free_allowance_laundry=document.getElementById("tax_free_allowance_laundry");

annual_salary.addEventListener('keyup',calculate);
annual_bonus.addEventListener('keyup',calculate);
tax_free_allowance_housing.addEventListener('keyup',calculate);
tax_free_allowance_education.addEventListener('keyup',calculate);
tax_free_allowance_language.addEventListener('keyup',calculate);
tax_free_allowance_travel.addEventListener('keyup',calculate);
tax_free_allowance_family.addEventListener('keyup',calculate);
tax_free_allowance_food.addEventListener('keyup',calculate);
tax_free_allowance_relocation.addEventListener('keyup',calculate);
tax_free_allowance_laundry.addEventListener('keyup',calculate);

function calculate(){
    annual_salary_val=allCalculatorData.annual_salary_val=parseInt(annual_salary.value)  || 0;
    annual_bonus_val=allCalculatorData.annual_bonus_val=parseInt(annual_bonus.value)  || 0;
    tax_free_allowance_housing_val=allCalculatorData.tax_free_allowance_housing_val=parseInt(tax_free_allowance_housing.value)  || 0;
    tax_free_allowance_education_val=allCalculatorData.tax_free_allowance_education_val=parseInt(tax_free_allowance_education.value)  || 0;
    tax_free_allowance_language_val=allCalculatorData.tax_free_allowance_language_val=parseInt(tax_free_allowance_language.value)  || 0;
    tax_free_allowance_travel_val=allCalculatorData.tax_free_allowance_travel_val=parseInt(tax_free_allowance_travel.value)  || 0;
    tax_free_allowance_family_val=allCalculatorData.tax_free_allowance_family_val=parseInt(tax_free_allowance_family.value)  || 0;
    tax_free_allowance_food_val=allCalculatorData.tax_free_allowance_food_val=parseInt(tax_free_allowance_food.value)  || 0;
    tax_free_allowance_relocation_val=allCalculatorData.tax_free_allowance_relocation_val=parseInt(tax_free_allowance_relocation.value)  || 0;
    tax_free_allowance_laundry_val=allCalculatorData.tax_free_allowance_laundry_val=parseInt(tax_free_allowance_laundry.value)  || 0;


    var sumALL=annual_salary_val+annual_bonus_val+tax_free_allowance_housing_val+tax_free_allowance_education_val+tax_free_allowance_language_val+tax_free_allowance_travel_val+tax_free_allowance_family_val+tax_free_allowance_food_val+tax_free_allowance_relocation_val+tax_free_allowance_laundry_val;

    // Calculate Salary IIT
    var taxable_salary=annual_salary_val-60000;
    var quick_deduction=0;
    var iit_tax=0;
    if(taxable_salary<=36000){
        quick_deduction=0;
        iit_tax=3;
    } else if(taxable_salary>36000 && taxable_salary<=144000){
        quick_deduction=2520;
        iit_tax=10;
    } else if(taxable_salary>144000 && taxable_salary<=300000){
        quick_deduction=16920;
        iit_tax=20;
    } else if(taxable_salary>300000 && taxable_salary<=420000){
        quick_deduction=31920;
        iit_tax=25;
    } else if(taxable_salary>420000 && taxable_salary<=660000){
        quick_deduction=52920;
        iit_tax=30;
    } else if(taxable_salary>660000 && taxable_salary<=960000){
        quick_deduction=85920;
        iit_tax=35;
    } else if(taxable_salary>960000){
        quick_deduction=181920;
        iit_tax=45;
    }

    var iit_calulated_salary=taxable_salary*(iit_tax/100)-quick_deduction;

    // Calculate Bonus IIT
    var monthly_bonus=annual_bonus_val/12;
    var quick_deduction_bonus=0;
    var iit_tax_bonus=0;
    if(monthly_bonus<=3000){
        quick_deduction_bonus=0;
        iit_tax_bonus=3;
    } else if(monthly_bonus>3000 && monthly_bonus<=12000){
        quick_deduction_bonus=210;
        iit_tax_bonus=10;
    } else if(monthly_bonus>12000 && monthly_bonus<=25000){
        quick_deduction_bonus=1410;
        iit_tax_bonus=20;
    } else if(monthly_bonus>25000 && monthly_bonus<=35000){
        quick_deduction_bonus=2660;
        iit_tax_bonus=25;
    } else if(monthly_bonus>35000 && monthly_bonus<=55000){
        quick_deduction_bonus=4410;
        iit_tax_bonus=30;
    } else if(monthly_bonus>55000 && monthly_bonus<=80000){
        quick_deduction_bonus=7160;
        iit_tax_bonus=35;
    } else if(monthly_bonus>80000){
        quick_deduction_bonus=15160;
        iit_tax_bonus=45;
    }

    var iit_calulated_bonus=annual_bonus_val*(iit_tax_bonus/100)-quick_deduction_bonus;
    
    var iit_calculated_total=(iit_calulated_salary+iit_calulated_bonus)/sumALL;
    var iit_calculated_per=Math.round(iit_calculated_total * 100)

    // Calculate Subsidy
    var subsidy=((iit_calulated_salary+iit_calulated_bonus)-(annual_salary_val+annual_bonus_val-60000)*0.15);

    
    // Calculate IIT under new law
    var taxable_new_iit_salary=sumALL-60000;
    var quick_deduction_new=0;
    var iit_tax_new=0;
    if(taxable_new_iit_salary<=36000){
        quick_deduction_new=0;
        iit_tax_new=3;
    } else if(taxable_new_iit_salary>36000 && taxable_new_iit_salary<=144000){
        quick_deduction_new=2520;
        iit_tax_new=10;
    } else if(taxable_new_iit_salary>144000 && taxable_new_iit_salary<=300000){
        quick_deduction_new=16920;
        iit_tax_new=20;
    } else if(taxable_new_iit_salary>300000 && taxable_new_iit_salary<=420000){
        quick_deduction_new=31920;
        iit_tax_new=25;
    } else if(taxable_new_iit_salary>420000 && taxable_new_iit_salary<=660000){
        quick_deduction_new=52920;
        iit_tax_new=30;
    } else if(taxable_new_iit_salary>660000 && taxable_new_iit_salary<=960000){
        quick_deduction_new=85920;
        iit_tax_new=35;
    } else if(taxable_new_iit_salary>960000){
        quick_deduction_new=181920;
        iit_tax_new=45;
    }

    var iit_calulated_new=taxable_new_iit_salary*(iit_tax_new/100)-quick_deduction_new;
    var iit_calulated_new_per=Math.round((iit_calulated_new/sumALL) * 100);

    



    var iit_pay_div=document.getElementById("iit_pay");
    var iit_pay_show=Math.round((iit_calulated_salary+iit_calulated_bonus),2);
    if(iit_pay_show<0) iit_pay_show=0;

    var iit_calculated_per_show=iit_calculated_per;
    if(iit_calculated_per_show<0) iit_calculated_per_show=0;

    // iit_pay_div.innerHTML=`IIT you need to pay for 2020 (without considering other deductions) is ${iit_pay_show} and the tax burden rate is ${iit_calculated_per_show}%.`;

    

    var subsidy_div=document.getElementById("subsidy");
    subsidy_show=Math.round(subsidy);
    if(subsidy_show<0) subsidy_show=0;

    // subsidy_div.innerHTML=`Subsidy you can get for 2020 is ${subsidy_show}.`;

    var iit_pay_new_div=document.getElementById("iit_pay_new");
    iit_calulated_new_show=Math.round(iit_calulated_new,2);
    if(iit_calulated_new_show<0) iit_calulated_new_show=0;

    var iit_calulated_new_per_show=iit_calulated_new_per;
    if(iit_calulated_new_per_show<0) iit_calulated_new_per_show=0;

    // iit_pay_new_div.innerHTML=`If your income remain the same, at 2022 (after new IIT law), IIT would be ${iit_calulated_new_show} and the tax burden rate is ${iit_calulated_new_per_show}%.`;


    // console.log(iit_calulated_salary,iit_calulated_bonus,iit_calculated_per,iit_calulated_new_per,subsidy);

    // console.log(allCalculatorData);
    var subsidy_estimate_div=document.getElementById("subsidy_estimate");
    var subsidy_calculations_div=document.getElementById("subsidy_calculations");

    // if(allCalculatorData.highEndValuesInt[0]>0 || allCalculatorData.LackingValuesInt[0]>0){

    //     var final_result="";
    //     // console.log(allCalculatorData.field_how_many_days);
    //     if(allCalculatorData.field_how_many_days=="< 90 days" || allCalculatorData.field_how_many_days=="90 days"){
    //         final_result=`<p>As you have been in China for less than 183 days, you are likely to be treated as non-tax resident. And your Individual Income Tax calculation result may be affected and the subsidy amount may vary slightly.</p>`;
    //     }

    //     final_result+=`We estimate that you have: ${allCalculatorData.highEndValuesInt[0]}% possibility to get high end talents subsidy and ${allCalculatorData.LackingValuesInt[0]}% possibility to get urgently-needed talents subsidy. Our experts could help with your subsidy application. For a more accurate result, we need to further evaluate your information. <br /><a href="#" onClick="changeStep(2);" class="c-btn cta-link mt-2">Click here to confirm your interest.</a>`;

    //     subsidy_estimate_div.innerHTML=final_result;

    // } else {

    //     if(subsidy_show>50000) {
    //         subsidy_estimate_div.innerHTML=`Based on our first estimation, you don’t qualify for the GBA IIT subsidy this year. However, our experts could help you to investigate further and make sure you have not missed any key information affecting your qualification.  <br /><a href="#" onClick="changeStep(2);" class="c-btn cta-link mt-2">Click here to confirm your interest.</a>`;
    //     } else {
    //         subsidy_estimate_div.innerHTML=`Sorry. Based on our first estimation, you don’t qualify for the GBA IIT subsidy this year.`;
    //     }

    // }
    subsidy_estimate_div.innerHTML=`Thank you for taking your time to fill in subsidy qualification assessment.  Our tax team will evaluate your information and revert our professional opinions on your successful rate of getting the GBA subsidies and how we could help with your subsidy application. <br /><a href="#" onClick="changeStep(2);" class="c-btn cta-link mt-2">Click here to confirm your interest.</a>`;


    if(subsidy_show && iit_pay_show && iit_calculated_per_show && iit_calulated_new_show && iit_calulated_new_per_show){
        // show the calculation
        subsidy_calculations_div.innerHTML=`
        <table class="table table-striped">
            <tbody>

                <tr>
                    <td colspan=2>
                        <strong>Based on your information provided, we estimate:</strong><br />
                        The following calculations are performed in CNY.
                    </td>
                </tr>
                <tr>
                    <td><strong>IIT you need to pay</strong></td>
                    <td>${iit_pay_show}</td>
                </tr>
                <tr>
                    <td><em>tax burden rate</em></td>
                    <td>${iit_calculated_per_show}%</td>
                </tr>
                <tr>
                    <td><strong>Subsidy you can get</strong></td>
                    <td>${subsidy_show}</td>
                </tr>
            </tbody>
        </table>

        <!--
        <hr />
        
        <table class="table table-striped">
            <tbody>

                <tr>
                    <td colspan=2>
                        <strong>After 2022.1.1, under new IIT law, tax free subsidy for foreigners is cancelled, If your income packages remains the same, we estimate in 2022:</strong>
                    </td>
                </tr>
                <tr>
                    <td><strong>IIT you need to pay</strong></td>
                    <td>${iit_calulated_new_show}</td>
                </tr>
                <tr>
                    <td><em>tax burden rate</em></td>
                    <td>${iit_calulated_new_per_show}%</td>
                </tr>
            </tbody>
        </table>
        -->
        `;
    }


}

</script>    </div><!--/step1-->

    <div id="step3" class="cal_step d-none">
        <h4>For a more accurate result, we need to further evaluate the information you provided.</h4>
        <p>Would you like to share your details, and discuss your application with an advisor? If yes, please fill in the form below to submit your application and one of our expert will get back to you.</p>
        <form onsubmit="return submit_application()">

            <div class="grid row_2">
              <div class="col-md-6">
                <div class="form-field">
                  <label for="fname"> <span class="required-field">*</span> First Name </label>
                  <input type="text" name="fname" id="fname" value="" class="form-control radius-none required " required="">
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-field">
                  <label for="lname"> <span class="required-field">*</span> Last Name </label>
                  <input type="text" name="lname" id="lname" value="" class="form-control radius-none required " required="">
                </div>
              </div>
            </div>

            <div class="grid row_2">
              <div class="col-md-6">
                <div class="form-field">
                  <label for="email_address"> <span class="required-field">*</span> Email Address </label>
                  <input type="email" name="email_address" id="email_address" value="" class="form-control radius-none required email" required="">
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-field">
                  <label for="organization"> <span class="required-field">*</span> Organisation / Company </label>
                  <input type="text" name="organization" id="organization" value="" class="form-control radius-none required " required="">
                </div>
              </div>

            </div>

            <div class="grid row_1 flexible_submit">
              <div class="col-md-12"><input type="submit" class="btn btn-primary btn-sm text-uppercase  submit" id="submit" value="Submit" name="submit">
                <div class="spacer"></div>
              </div>
            </div>


            <div class="grid row_1">
              <div class="col-md-12">
                <div class="mt-3rem" id="submission_result"></div>
              </div>
            </div>


            

        </form>
    </div><!--/step1-->

<script>

function submit_application(){

    var fname=document.getElementById("fname");
    var lname=document.getElementById("lname");
    var email_address=document.getElementById("email_address");
    var organization=document.getElementById("organization");
    var submission_result_div=document.getElementById("submission_result");

    if(fname && lname && email_address && organization){
        submission_result_div.innerHTML='<strong>Submitting, please wait...</strong>';
        var fname=fname.value;
        var lname=lname.value;
        var email_address=email_address.value;
        var organization=organization.value;


        allCalculatorData.fname=fname;
        allCalculatorData.lname=lname;
        allCalculatorData.email_address=email_address;
        allCalculatorData.organization=organization;

        

        var http = new XMLHttpRequest();
        var url = '/library/investor_tools/submit-subsidy-calculator-for-talents';
        http.open('POST', url, true);

        http.setRequestHeader("Content-Type", "application/json;charset=UTF-8");


        http.onreadystatechange = function() {//Call a function when the state changes.
            if(http.readyState == 4 && http.status == 200) {

                if(http.responseText=="success"){
                    submission_result_div.innerHTML='<div class="alert alert-success">Application submitted successfully.</div>';
                } else {
                    submission_result_div.innerHTML='<div class="alert alert-danger">Something wrong, please try again.</div>';
                }
            }
        }


        var allCalculatorDataJSON = JSON.stringify(Object.assign({}, allCalculatorData));  // convert array to string
        var allCalculatorDataJSON = JSON.parse(allCalculatorDataJSON);  // convert string to json object

        http.send(JSON.stringify(allCalculatorDataJSON));

        return false;
    } else {
        return false;
    }
}

function changeStep(step){
    if(!isNaN(step) && step>=0){

        // Store any unstored values during change
        if(step==1 && other_situation_description){
          allCalculatorData.other_situation_description=other_situation_description.value;
        }

        var allStepsDiv=document.querySelectorAll(".cal_step");
        for(i=0;i<allStepsDiv.length;i++){
            allStepsDiv[i].classList.add("d-none");
        }

        allStepsDiv[step].classList.remove("d-none");
    }
}

changeStep(0);


</script>
                        </div>
        </div>
    </section>









  </main>
  @@include("../includes/footer.html")
  <div class="popup-overlay center-popup" id="center-popup">
    <div class="popup-content">
      <button class="popup-close" onclick="toggle_modal('.center-popup');">&times;</button>
      <video id="eventVideo" src="" controls="" width="100%" poster=""> </video>
    </div>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('[data-toggle="accordion"]').forEach(label => {
      label.addEventListener('click', function () {
        const radioWrapper = this.closest('.radio-group-wrapper');
        const radioList = wrapper.querySelector('.custom-radio-list');
        const topicArrow = this.querySelector('.accordion-arrow');

        radioList.classList.toggle('open');
        this.classList.toggle('open'); 
      });
    });

  });
</script>
  <script src="../js/vendor/splide.min.js"></script>
  <script src="../js/main.min.js"></script>

</body>

</html>